<!-- <h2>this is general map</h2> --><br/>
<div style="background-image: url('../cropped/pradeep.png');height: 700px;width: 100%;" id="main" >
    <button class="btn btn-success" id="markerAdder" >Add Markers</button>

<button class="btn btn-danger" id="cancel">Cancel</button>
<button class="btn btn-primary" id="addDock" onclick="onDock();" >Dock</button>
<button class="btn btn-primary" id="addWare" onclick="onWare();" >Warehouse</button>
<button class="btn btn-primary" id="addRail" onclick="onRail();">Rail Line</button>
<button class="btn btn-primary" id="addTrans" onclick="onTruck();">Truck Transport</button>
<p id="showTag" style="color: black;" > Tag :   
</p>
<div id="elementCreator" >
        
</div>  

</div>

<!-- <img src="../cropped/pradeep.png" alt="" style="" > -->

<script>

    $(document).ready(() => {
        $('#cancel').hide();
        $('#addDock').hide();
        $('#showTag').hide();
        $('#addWare').hide();
        $('#addRail').hide();
        $('#addTrans').hide();
        $('#markerAdder').click(() => {
            $('#cancel').show(100);
            $('#markerAdder').hide(50);
            $('#addDock').show(100);
            $('#addWare').show(100);
            $('#addRail').show(100);
            $('#addTrans').show(100);
        })
        $('#cancel').click(() => {
            $('#markerAdder').show(100);
            $('#cancel').hide(50);
            $('#addDock').hide(50);
            $('#addWare').hide(50);
            $('#addRail').hide(50);
            $('#addTrans').hide(50);
            $('#showTag').hide();
        })
        $('#addDock').click(() => {
            $('#showTag').show();
        });
        $('#addWare').click(() => {
            $('#showTag').show();
        });
        $('#addRail').click(() => {
            $('#showTag').show();
        });
        $('#addTrans').click(() => {
            $('#showTag').show();
        });
    });
    var dock_count = 0,warehouse_count=0,railline_count=0,truck_count=0;
    function onDock() {
        ++dock_count;
        console.warn('created dock element tag with counter : '+dock_count);
        
        var tag = document.createElement('p');
        tag.style.color = 'red';
        tag.style.padding = '0px';
        // tag.style.backgroundColor = 'red';
        tag.style.borderRadius = '10px';
        tag.style.fontSize='10px'
        tag.style.overflow = 'visible'
        tag.innerHTML = 'Dock '+dock_count;
        tag.className = 'element_dock_'+dock_count;
        let classNameElement = tag.className;
        tag.draggable = true;
        tag.ondragend = function(event) {
            tag.style.marginTop = event.clientY + 'px';
            tag.style.marginLeft = event.clientX + 'px';
        }
        var formDec =  document.createElement('form');
        formDec.style.backgroundColor='black';

        document.getElementById('elementCreator').appendChild(tag); 
        interact('.'+ tag.className.toString())
        .draggable({
            inertia:true,
            autoScroll:true,
            onstart: ()=>{
                console.warn('starting draging using interact')
            },
            onmove: eve => {
                let target = eve.target;
                console.warn('X : '+parseFloat(target.getAttribute('data-x') || 0) + eve.dx ) 
                console.warn('Y: '+ parseFloat(target.getAttribute('data-y') || 0) + eve.dy)
                let x = parseFloat(target.getAttribute('data-x') || 0) + eve.dx,
                    y = parseFloat(target.getAttribute('data-y') || 0) + eve.dy; 
                target.style.webkitTransform = target.style.transform = 'translate(' + x + 'px, ' + y + 'px)';
                target.setAttribute('data-x', x)
                target.setAttribute('data-y', y)
            },
            onend: e => {
                console.warn('Move ended at X: '+parseFloat(e.target.getAttribute('data-x') || 0) +
                '  Y: '+parseFloat(e.target.getAttribute('data-y') || 0) 
                )
                var formDyn = document.createElement('form');
                formDyn.setAttribute('method','POST');
                formDyn.setAttribute('data-ng-submit','tagDockSubmit()');
                formDyn.style.marginTop = parseFloat(e.target.getAttribute('data-y'))+'px';
                formDyn.style.marginLeft = parseFloat(e.target.getAttribute('data-x'))+'px';
                formDyn.style.marginBottom = parseFloat(e.target.getAttribute('data-y'))+'500px';
                formDyn.style.marginRight = parseFloat(e.target.getAttribute('data-x'))+'500px';
                // let x = document.createElement('p');
                //     x.innerText = 'Dock Name : '
                //     x.style.color='red';
                //     x.style.backgroundColor='white';
                formDyn.style.backgroundColor='#fff'
                // formDyn.appendChild(x)
                let dockName = document.createElement('input');
                dockName.type = 'text';
                dockName.name = 'dockName';
                dockName.placeholder = 'Dock Name';
                dockName.setAttribute('data-ng-model','name');
                formDyn.appendChild(dockName);
                document.getElementById('main').appendChild(formDyn);
                let capacity = document.createElement('input');
                capacity.type='number';
                capacity.name = 'capacity'
                capacity.placeholder = 'Capacity of Holding Ships';
                capacity.setAttribute('data-ng-model','capacityDock')
                formDyn.appendChild(capacity);
                // select 
                let selectElement = document.createElement('select');
                selectElement.setAttribute('data-ng-model','type');
                let optionArr = ['--Select Type--','Cargo','Passenger','Others'];
                for(let i=0; i< optionArr.length; i++) {
                    let ele = document.createElement('option');
                    ele.text = optionArr[i];
                    ele.value = optionArr[i];
                    ele.className = optionArr[i] + '_className';
                    selectElement.appendChild(ele);
                }
                formDyn.appendChild(selectElement);

                let submitButton = document.createElement('input');
                submitButton.type = 'button';
                submitButton.style.margin='0px';
                submitButton.innerText = 'Submit';
                submitButton.className='btn btn-successs';
                submitButton.onclick=() => {
                    console.warn('submitting records');
                    document.getElementById('main').removeChild(formDyn);
                    
                }
                submitButton.value = 'Submit';
                formDyn.appendChild(submitButton)
                
            },
        })
    }
    function onWare() {
        ++warehouse_count;
        console.warn('created dock element tag with counter : '+dock_count);
        
        var tag = document.createElement('p');
        tag.style.color = 'red';
        tag.style.padding = '0px';
        // tag.style.backgroundColor = 'red';
        tag.style.borderRadius = '10px';
        tag.style.fontSize='10px'
        tag.innerHTML = 'Warehouse '+warehouse_count;
        tag.className = 'element_ware_'+warehouse_count;
        document.getElementById('elementCreator').appendChild(tag); 
        interact('.'+ tag.className.toString())
        .draggable({
            inertia:true,
            autoScroll:true,
            onstart: ()=>{
                console.warn('starting draging using interact')
            },
            onmove: eve => {
                let target = eve.target;
                console.warn('X : '+parseFloat(target.getAttribute('data-x') || 0) + eve.dx ) 
                console.warn('Y: '+ parseFloat(target.getAttribute('data-y') || 0) + eve.dy)
                let x = parseFloat(target.getAttribute('data-x') || 0) + eve.dx,
                    y = parseFloat(target.getAttribute('data-y') || 0) + eve.dy; 
                target.style.webkitTransform = target.style.transform = 'translate(' + x + 'px, ' + y + 'px)';
                target.setAttribute('data-x', x)
                target.setAttribute('data-y', y)
            },
            onend: e => {
                console.warn('Move ended at X: '+parseFloat(e.target.getAttribute('data-x') || 0) +
                '  Y: '+parseFloat(e.target.getAttribute('data-y') || 0) )
                var formDyn = document.createElement('form');
                formDyn.setAttribute('method','POST');
                formDyn.setAttribute('data-ng-submit','tagWareSubmit()');
                formDyn.style.marginTop = parseFloat(e.target.getAttribute('data-y'))+'px';
                formDyn.style.marginLeft = parseFloat(e.target.getAttribute('data-x'))+'px';
                formDyn.style.marginBottom = parseFloat(e.target.getAttribute('data-y'))+'500px';
                formDyn.style.marginRight = parseFloat(e.target.getAttribute('data-x'))+'500px';
                // let x = document.createElement('p');
                //     x.innerText = 'Dock Name : '
                //     x.style.color='red';
                //     x.style.backgroundColor='white';
                formDyn.style.backgroundColor='#fff'
                // formDyn.appendChild(x)
                let dockName = document.createElement('input');
                dockName.type = 'text';
                dockName.name = 'wareName';
                dockName.placeholder = 'Ware House Name';
                
                dockName.setAttribute('data-ng-model','name');
                formDyn.appendChild(dockName);
                document.getElementById('main').appendChild(formDyn);
                let capacity = document.createElement('input');
                capacity.type='number';
                capacity.name = 'capacity'
                capacity.placeholder = 'Capacity';
                capacity.setAttribute('data-ng-model','capacity')
                formDyn.appendChild(capacity);
                // select 
                

                let submitButton = document.createElement('input');
                submitButton.type = 'button';
                submitButton.style.margin='0px';
                submitButton.innerText = 'Submit';
                submitButton.className='btn btn-successs';
                submitButton.onclick=() => {
                    console.warn('submitting records');
                    document.getElementById('main').removeChild(formDyn);
                    
                }
                submitButton.value = 'Submit';
                formDyn.appendChild(submitButton)
            },
        })
    }
    function onRail() {
        ++railline_count;
        console.warn('created dock element tag with counter : '+dock_count);
        
        var tag = document.createElement('p');
        tag.style.color = 'red';
        tag.style.padding = '0px';
        // tag.style.backgroundColor = 'red';
        tag.style.borderRadius = '10px';
        tag.style.fontSize='10px'
        tag.innerHTML = 'Rail Line '+railline_count;
        tag.className = 'element_rail_'+railline_count;
        document.getElementById('elementCreator').appendChild(tag); 
        interact('.'+ tag.className.toString())
        .draggable({
            inertia:true,
            autoScroll:true,
            onstart: ()=>{
                console.warn('starting draging using interact')
            },
            onmove: eve => {
                let target = eve.target;
                console.warn('X : '+parseFloat(target.getAttribute('data-x') || 0) + eve.dx ) 
                console.warn('Y: '+ parseFloat(target.getAttribute('data-y') || 0) + eve.dy)
                let x = parseFloat(target.getAttribute('data-x') || 0) + eve.dx,
                    y = parseFloat(target.getAttribute('data-y') || 0) + eve.dy; 
                target.style.webkitTransform = target.style.transform = 'translate(' + x + 'px, ' + y + 'px)';
                target.setAttribute('data-x', x)
                target.setAttribute('data-y', y)
            },
            onend: e => {
                console.warn('Move ended at X: '+parseFloat(e.target.getAttribute('data-x') || 0) +
                '  Y: '+parseFloat(e.target.getAttribute('data-y') || 0)
                )
                var formDyn = document.createElement('form');
                formDyn.setAttribute('method','POST');
                formDyn.setAttribute('data-ng-submit','tagRailSubmit()');
                formDyn.style.marginTop = parseFloat(e.target.getAttribute('data-y'))+'px';
                formDyn.style.marginLeft = parseFloat(e.target.getAttribute('data-x'))+'px';
                formDyn.style.marginBottom = parseFloat(e.target.getAttribute('data-y'))+'500px';
                formDyn.style.marginRight = parseFloat(e.target.getAttribute('data-x'))+'500px';
                // let x = document.createElement('p');
                //     x.innerText = 'Dock Name : '
                //     x.style.color='red';
                //     x.style.backgroundColor='white';
                formDyn.style.backgroundColor='#fff'
                // formDyn.appendChild(x)
                let dockName = document.createElement('input');
                dockName.type = 'text';
                dockName.name = 'wareName';
                dockName.placeholder = 'Rail Name';
                
                dockName.setAttribute('data-ng-model','name');
                formDyn.appendChild(dockName);
                document.getElementById('main').appendChild(formDyn);
                let capacity = document.createElement('input');
                capacity.type='number';
                capacity.name = 'capacity'
                capacity.placeholder = 'Capacity ( if any )';
                capacity.setAttribute('data-ng-model','capacity')
                formDyn.appendChild(capacity);
                // select 
                

                let submitButton = document.createElement('input');
                submitButton.type = 'button';
                submitButton.style.margin='0px';
                submitButton.innerText = 'Submit';
                submitButton.className='btn btn-successs';
                submitButton.onclick=() => {
                    console.warn('submitting records');
                    document.getElementById('main').removeChild(formDyn);
                    
                }
                submitButton.value = 'Submit';
                formDyn.appendChild(submitButton)
            },
        })
    }
    function onTruck() {
        ++truck_count;
        console.warn('created dock element tag with counter : '+dock_count);
        
        var tag = document.createElement('p');
        tag.style.color = 'red';
        tag.style.padding = '0px';
        // tag.style.backgroundColor = 'red';
        tag.style.borderRadius = '10px';
        tag.style.fontSize='10px'
        tag.innerHTML = 'Roads '+truck_count;
        tag.className = 'element_truck_'+truck_count;
        document.getElementById('elementCreator').appendChild(tag); 
        interact('.'+ tag.className.toString())
        .draggable({
            inertia:true,
            autoScroll:true,
            onstart: ()=>{
                console.warn('starting draging using interact')
            },
            onmove: eve => {
                let target = eve.target;
                console.warn('X : '+parseFloat(target.getAttribute('data-x') || 0) + eve.dx ) 
                console.warn('Y: '+ parseFloat(target.getAttribute('data-y') || 0) + eve.dy)
                let x = parseFloat(target.getAttribute('data-x') || 0) + eve.dx,
                    y = parseFloat(target.getAttribute('data-y') || 0) + eve.dy; 
                target.style.webkitTransform = target.style.transform = 'translate(' + x + 'px, ' + y + 'px)';
                target.setAttribute('data-x', x)
                target.setAttribute('data-y', y)
            },
            onend: e => {
                console.warn('Move ended at X: '+parseFloat(e.target.getAttribute('data-x') || 0) +
                '  Y: '+parseFloat(e.target.getAttribute('data-y') || 0) 
            )
            var formDyn = document.createElement('form');
                formDyn.setAttribute('method','POST');
                formDyn.setAttribute('data-ng-submit','tagRoadSubmit()');
                formDyn.style.marginTop = parseFloat(e.target.getAttribute('data-y'))+'px';
                formDyn.style.marginLeft = parseFloat(e.target.getAttribute('data-x'))+'px';
                formDyn.style.marginBottom = parseFloat(e.target.getAttribute('data-y'))+'500px';
                formDyn.style.marginRight = parseFloat(e.target.getAttribute('data-x'))+'500px';
                // let x = document.createElement('p');
                //     x.innerText = 'Dock Name : '
                //     x.style.color='red';
                //     x.style.backgroundColor='white';
                formDyn.style.backgroundColor='#fff'
                // formDyn.appendChild(x)
                let dockName = document.createElement('input');
                dockName.type = 'text';
                dockName.name = 'wareName';
                dockName.placeholder = 'Road Mark : ';
                
                dockName.setAttribute('data-ng-model','name');
                formDyn.appendChild(dockName);
                document.getElementById('main').appendChild(formDyn);
                // let capacity = document.createElement('input');
                // capacity.type='number';
                // capacity.name = 'capacity'
                // capacity.placeholder = 'Capacity';
                // capacity.setAttribute('data-ng-model','capacity')
                // formDyn.appendChild(capacity);
                // select 
                

                let submitButton = document.createElement('input');
                submitButton.type = 'button';
                submitButton.style.margin='0px';
                submitButton.innerText = 'Submit';
                submitButton.className='btn btn-successs';
                submitButton.onclick=() => {
                    console.warn('submitting records');
                    document.getElementById('main').removeChild(formDyn);
                    
                }
                submitButton.value = 'Submit';
                formDyn.appendChild(submitButton)
            },
        })
    }

    // class Markers2 {
    //     constructor(type, x, y, name) {
    //         this.markerType = type;
    //         this.x_cord = x;
    //         this.y_cord = y;
    //         this.markerName = name;
    //         this.allTags = [];
    //         this.markerSpecific = {};
    //     }

    //     displayAll() {
    //         console.warn(this.allTags);
    //     }


    // }





</script>

